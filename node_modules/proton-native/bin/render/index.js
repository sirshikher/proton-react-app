"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = exports.container = exports.ROOT_NODE = void 0;

var _reactDeepForceUpdate = _interopRequireDefault(require("react-deep-force-update"));

var _devtools = require("../devtools");

var _reconciler = _interopRequireDefault(require("../reconciler"));

var _createElement = require("../utils/createElement");

var _hot = require("../misc/hot");

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { "default": obj }; }

var ROOT_NODE = {};
exports.ROOT_NODE = ROOT_NODE;
var container = {};
exports.container = container;
var AppRegistry = {
  registerComponent: function registerComponent(name, component) {
    var newComponent = process.env.NODE_ENV === 'production' ? component : (0, _hot.hot)(component);
    (0, _devtools.connectDevtools)(_reconciler["default"]);
    exports.ROOT_NODE = ROOT_NODE = (0, _createElement.createElement)('ROOT');
    exports.container = container = _reconciler["default"].createContainer(ROOT_NODE);

    _reconciler["default"].updateContainer(newComponent, container, null);
  },
  updateProxy: function updateProxy(app) {
    if (container) {
      (0, _hot.hot)(app);
      container._reactInternalInstance = container.current;
      (0, _reactDeepForceUpdate["default"])(container);
    }
  }
};
var _default = AppRegistry;
exports["default"] = _default;